{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[528],{925:function(t,a,s){\"use strict\";s.r(a);var e=s(55),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"多个斜线开始的路径重定向问题\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#多个斜线开始的路径重定向问题\"}},[t._v(\"#\")]),t._v(\" 多个斜线开始的路径重定向问题\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"需求说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#需求说明\"}},[t._v(\"#\")]),t._v(\" 需求说明\")]),t._v(\" \"),s(\"p\",[t._v(\"在 \"),s(\"a\",{attrs:{href:\"https://github.com/lanqiao-courses/vue-router/tree/v3.5.2\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"vue-router v3.5.2\"),s(\"OutboundLink\")],1),t._v(\" 版本代码中存在一个 Bug，一个以多个斜线（\"),s(\"code\",[t._v(\"///\")]),t._v(\"）开始的路径实际上可能会重定向到另一个域。这是因为 \"),s(\"code\",[t._v(\"cleanPath\")]),t._v(\" 函数只替换了两个斜线。请修复此问题。\")]),t._v(\" \"),s(\"p\",[t._v(\"这里被重定向到百度\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://gitee.com/wddzhahaha/images/raw/master/img/d7dd0d19c0eff52a5e1b84ef689ea384-0\",alt:\"图片描述\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"修复流程\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#修复流程\"}},[t._v(\"#\")]),t._v(\" 修复流程\")]),t._v(\" \"),s(\"p\",[t._v(\"修复效果如下\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://gitee.com/wddzhahaha/images/raw/master/img/9db4798050d33a21d0173c8bbc504691-0\",alt:\"img\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"代码\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#代码\"}},[t._v(\"#\")]),t._v(\" 代码\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-js line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"export\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"cleanPath\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[s(\"span\",{pre:!0,attrs:{class:\"token literal-property property\"}},[t._v(\"path\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" string\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" string \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" path\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"replace\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token regex\"}},[s(\"span\",{pre:!0,attrs:{class:\"token regex-delimiter\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token regex-source language-regex\"}},[t._v(\"(\\\\/)+\")]),s(\"span\",{pre:!0,attrs:{class:\"token regex-delimiter\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token regex-flags\"}},[t._v(\"g\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),t._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[t._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[t._v(\"3\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"考察点\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#考察点\"}},[t._v(\"#\")]),t._v(\" 考察点\")]),t._v(\" \"),s(\"p\",[t._v(\"正则表达式的重复匹配\")])])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}