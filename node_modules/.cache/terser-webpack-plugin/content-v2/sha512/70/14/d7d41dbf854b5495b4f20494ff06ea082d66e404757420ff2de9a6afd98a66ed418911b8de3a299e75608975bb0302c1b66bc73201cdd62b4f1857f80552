{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[533],{929:function(a,t,s){\"use strict\";s.r(t);var r=s(55),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"当-pathmatch-为空字符串时正确计算路径\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#当-pathmatch-为空字符串时正确计算路径\"}},[a._v(\"#\")]),a._v(\" 当 pathMatch 为空字符串时正确计算路径\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"需求说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#需求说明\"}},[a._v(\"#\")]),a._v(\" 需求说明\")]),a._v(\" \"),s(\"p\",[a._v(\"在 \"),s(\"a\",{attrs:{href:\"https://github.com/lanqiao-courses/vue-router/tree/v3.1.5\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"vue-router v3.1.5\"),s(\"OutboundLink\")],1),a._v(\" 版本代码中存在一个 Bug，当 \"),s(\"code\",[a._v(\"pathMatch\")]),a._v(\" 为空字符串时，会影响正确的 \"),s(\"code\",[a._v(\"path\")]),a._v(\" 。请修复此问题。\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://gitee.com/wddzhahaha/images/raw/master/img/4c88aac026e956a38bcf1b662b7a7d00-0\",alt:\"图片描述\"}})]),a._v(\" \"),s(\"h2\",{attrs:{id:\"修复流程\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#修复流程\"}},[a._v(\"#\")]),a._v(\" 修复流程\")]),a._v(\" \"),s(\"p\",[a._v(\"修复完成后，在 \"),s(\"code\",[a._v(\"vue-router-3.1.5\")]),a._v(\" 目录下，通过 \"),s(\"code\",[a._v(\"npm run build\")]),a._v(\" 命令重新打包发布。\")]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://gitee.com/wddzhahaha/images/raw/master/img/bb7b52697320f033d4fc1060443aabaf-0\",alt:\"img\"}})]),a._v(\" \"),s(\"h2\",{attrs:{id:\"代码\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#代码\"}},[a._v(\"#\")]),a._v(\" 代码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-js line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[a._v(\"\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"if\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"pathMatch\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"pathMatch\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"if\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"pathMatch \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"==\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"''\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v(\"''\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//新增\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"p\",[a._v(\"问题在于如果params.pathMatch为空字符串，那么if(params.pathMatch)会判断会假\")]),a._v(\" \"),s(\"p\",[a._v(\"params[0] 就无法被赋值\")]),a._v(\" \"),s(\"p\",[a._v(\"所以要在params.pathMatch为空字符串时给params[0]赋值为空子字符串\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"考察点\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#考察点\"}},[a._v(\"#\")]),a._v(\" 考察点\")]),a._v(\" \"),s(\"p\",[a._v(\"if语句与类型转换的结合\")]),a._v(\" \"),s(\"p\",[a._v(\"空字符串隐式转换为Boolean为false\")])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}